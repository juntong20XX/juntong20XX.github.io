---
layout: mypost
title: "Hello Jekyll!"
categories: [Windows,sandbox,network]
lang: zh-cn

typora-root-url: D:/Projects/MyWeb/juntong20XX.github.io/_posts
typora-copy-images-to: ../posts/2024/03/07
---

# Windows Sandbox 桥接

## 废话时间

因为网传腾讯系 APP 如微信会扫描硬盘，遂使用沙盒 (Windows Sandbox) 运行微信（主要还是爱折腾）。

不过使用微信的过程中有备份聊天记录到电脑上的需求，微信要求电脑和手机在同一个网络环境下运行，这时就需要手动该桥接，使二者 IP 在同一网段下。

不知为何，我的笔记本电脑无法如网上的教程所说，选择两张网卡然后点击桥接即可，而是桥接后两端无法上网。经过一番折腾，终于找到了方法。

省流：重启电脑。

## 步骤

第一步，打开控制面板的网络连接设置（你可以通过 鼠标右击开始菜单右下角的网络-> “打开网络和 Internet 设置” -> “更改适配器选项” 来打开这个页面），按住 CTRL 键选择 `vEthernet (Default Switch)` 和用于上网的网卡（一般是 WLAN），然后选择“桥接”。这时应该多出了一张网卡，名为“网桥”，并且主机和沙盒均显示无法连接网络。

![image-20240307165613070](image-20240307165613070.png)

桥接后网络无法连接，就像这样：

![image-20240307165658638](image-20240307165658638.png)

第二步，选择 `vEthernet (Default Switch)` 右键点击“退出桥接”。

![image-20240307165749337](image-20240307165749337.png)

这时设备和沙盒还是不能连接网络。

第三步，重启电脑。重启后，网络应该恢复了正常，若没有，进入 Wi-Fi 设置，并手动配置 IP，稍等片刻，网络大概能恢复正常，否则，再重启。

我重启电脑后网络就恢复了，如图所示

![image-20240307170021184](image-20240307170021184.png)

第四步，这时你应该刚刚重启过电脑，注意要先打开沙盒，再修改主机的配置。在打开沙盒后，进入主机的控制面板的适配器设置，选择 `vEthernet (Default Switch)` ，右键“加入到网桥”。稍等片刻，沙盒应当可以自动适应新的网络环境。若沙盒显示没有网络连接，进入沙盒中的网络设置，并手动配置 IP，稍等片刻，网络大概能恢复正常，若没有，进入主机的控制面板的适配器设置，右键断开 `vEthernet (网桥)` 的桥接状态，再次桥接尝试。

如图，这时我已经成功桥接：

![image-20240307171037221](image-20240307171037221.png)

## 恢复？

直接从主机的控制面板删掉网桥。

![image-20240307171136331](image-20240307171136331.png)

嗯，然后就好啦！